/* ============================================
   GRADE • Base (tokens + viewer) — MVP
   Guardrails: mudanças pequenas, foco em legibilidade
   ============================================ */

:root {
  /* Paleta oficial */
  --bg: #f8fafc;
  --navy: #0b1320;
  --gold: #d2b55b;
  --teal: #0f766e;
  --blue: #2563eb;
  --text: #0f172a;
  --muted: #475569;
  --white: #ffffff;
  --border: #e2e8f0;

  /* Aliases usados nos slides (evita var() inválido) */
  --ink: var(--text);
  --panel2: rgba(var(--navy-rgb), 0.03);

  /* Estados (usados em chips/escadas NNT/NNH) */
  --red: #dc2626;
  --red-rgb: 220, 38, 38;
  --green: #12b886;
  --green-rgb: 18, 184, 134;

  /* Helpers RGB */
  --navy-rgb: 11, 19, 32;
  --gold-rgb: 210, 181, 91;
  --teal-rgb: 15, 118, 110;
  --blue-rgb: 37, 99, 235;
  --text-rgb: 15, 23, 42;
  --muted-rgb: 71, 85, 105;
  --border-rgb: 226, 232, 240;

  /* Títulos — dourado profissional (contraste ≥ 3:1 em bg claro p/ large text) */
  --gold-title: #8b6f30;

  /* Alertas */
  --danger: #ef4444;
  --danger-rgb: 239, 68, 68;

  /* Tipografia */
  --font-sans: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', 'Liberation Sans',
    sans-serif;
  --font-serif: Georgia, 'Times New Roman', Times, serif;

  /* Escala tipográfica (conference-first)
     clamp() evita que Inter/Georgia fiquem pequenas em projetores (ex.: 1280×720)
     e limita “gigantismo” em telas muito grandes.
  */
  --h1: clamp(54px, 6.2vw, 118px);
  --h2: clamp(34px, 3.1vw, 66px);
  --h3: clamp(24px, 1.85vw, 44px);
  --lead: clamp(20px, 1.35vw, 32px);
  --body: clamp(18px, 1.12vw, 26px);
  --small: clamp(16px, 0.92vw, 22px);
  --ref: clamp(12px, 0.8vw, 16px);

  /* Layout base do slide */
  --slide-pad-x: 6%;
  --slide-pad-y: 4vw;
  --footer-safe: 2vw;

  /* UI tokens */
  --radius-sm: 0.5vw;
  --radius-md: 0.8vw;
  --shadow-sm: 0 0.15vw 0.5vw rgba(var(--navy-rgb), 0.06), 0 0.4vw 1.4vw rgba(var(--navy-rgb), 0.08);
}

html,
body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: #0a0f1a;
  font-family: var(--font-sans);
  text-rendering: geometricPrecision;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Viewer container */
#viewport {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Slide base — 16:9 */
.slide {
  width: 100vw;
  height: calc(100vw * 0.5625); /* 16:9 */
  max-width: calc(100vh * 1.7777778);
  max-height: 100vh;
  background: var(--bg);
  color: var(--text);
  border-radius: 0.6vw;
  box-shadow: 0 0.8vw 3vw rgba(0, 0, 0, 0.35);
  position: absolute;
  inset: 0;
  margin: auto;
  overflow: hidden;
  display: none;
  flex-direction: column;
  /* Importante: alguns slides tinham padding inline.
     Usamos !important para manter headers/footers alinhados na mesma "linha". */
  padding: var(--slide-pad-y) var(--slide-pad-x) calc(var(--slide-pad-y) + var(--footer-safe)) var(--slide-pad-x) !important;
  box-sizing: border-box;
}

/* Exceções */
.slide[data-slide-id='S01'] {
  padding: 0 !important;
}

/* S10: garantir respiro inferior (evita corte em projetor/print) */
.slide[data-slide-id='S10'] {
  padding-bottom: calc(var(--slide-pad-y) + var(--footer-safe) + 1.6vw) !important;
}

/* S47 é propositalmente denso */
.slide[data-slide-id='S47'] {
  padding: 3vw 5% calc(3vw + var(--footer-safe)) 5% !important;
}

.slide.active {
  display: flex;
}

/* (evitar duplicatas de regras do S47) */

.bg-navy {
  background: var(--navy) !important;
  color: var(--white) !important;
}

h1,
h2,
h3 {
  font-family: var(--font-serif);
  letter-spacing: -0.01em;
}

/* ============================================================
   Tipografia — padronização (h1/h2 + alinhamento do header)
   Objetivo: consistência em projetor e leitura a distância.
   ============================================================ */

/* Força Inter/Georgia (corrige slides com fonts hardcoded) */
.slide * {
  font-family: var(--font-sans) !important;
}
.slide h1,
.slide h2,
.slide h3,
.slide h1 *,
.slide h2 *,
.slide h3 * {
  font-family: var(--font-serif) !important;
}

/* Se houver spans/ênfases dentro de citações, manter serif também */
.slide blockquote,
.slide blockquote * {
  font-family: var(--font-serif) !important;
}
.slide .note * {
  font-family: var(--font-sans) !important;
}
.slide .note p,
.slide .note em {
  font-family: var(--font-serif) !important;
}

/* KPIs: manter "display" com serif para contraste (quando usado) */
.slide .kpi,
.slide .kpi * {
  font-family: var(--font-serif) !important;
}

.slide h1 {
  font-size: var(--h1) !important;
  line-height: 0.95 !important;
  /* Georgia tende a ter apenas 400/700; usar 700 evita “peso sintético” */
  font-weight: 700 !important;
  letter-spacing: -0.03em !important;
}

.slide h2 {
  font-size: var(--h2) !important;
  line-height: 1.1 !important;
  /* Padronização do peso do título (evita variação entre slides) */
  font-weight: 700 !important;
  margin: 0 0 1.35vw 0 !important;
  letter-spacing: -0.02em !important;
  /* Azul profissional para slides claros */
  color: var(--navy) !important;
}

/* Slides com fundo escuro: título no mesmo dourado do corpo */
.slide.bg-navy h2 {
  color: var(--gold) !important;
}

.slide h3 {
  font-weight: 700 !important;
  letter-spacing: -0.01em !important;
}

/* Lead text (quando usado como subtítulo) */
.slide .lead {
  font-family: var(--font-sans) !important;
  font-size: var(--lead);
  line-height: 1.35;
  color: var(--muted);
}

/* Rodapé/referência: evitar sobreposição no topo */
.slide .ref {
  top: auto !important;
  left: var(--slide-pad-x) !important;
  right: var(--slide-pad-x) !important;
  bottom: 1.85vw !important;
  font-size: var(--ref) !important;
  color: rgba(var(--text-rgb), 0.6);
}

.bg-navy .ref {
  color: rgba(255, 255, 255, 0.72) !important;
}

p,
li,
span,
div {
  font-family: var(--font-sans);
}

/* Minimal anchor reset */
a {
  color: inherit;
}
