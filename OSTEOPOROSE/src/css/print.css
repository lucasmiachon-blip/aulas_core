/*
  print.css
  PDF/print em estilo PPT (16:9) com 1 slide por página.

  Preferência (robusto):
  - Abrir: dist/print.html  (já vem com todos os slides inline)
  Alternativa (legacy):
  - Abrir: index.html?print=1

  Dica: Imprimir com "Plano de fundo" / "Background graphics" habilitado.
*/

html {
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* Preview (screen) para checar cortes antes de imprimir */
html.is-print body {
  background: var(--bg);
}

html.is-print .viewer__bar {
  display: none !important;
}

html.is-print .stage {
  display: block !important;
  padding: 0 !important;
  overflow: visible !important;
}

html.is-print .stage__inner {
  width: auto !important;
  height: auto !important;
  transform: none !important;
}

html.is-print .deck {
  display: block !important;
  width: auto !important;
  height: auto !important;
  max-width: none !important;
  aspect-ratio: auto !important;
  border: none !important;
  box-shadow: none !important;
  overflow: visible !important;
  margin: 0 !important;
  background: transparent !important;
}

html.is-print .slides {
  display: block !important;
  position: static !important;
  height: auto !important;
  overflow: visible !important;
  background: transparent !important;
}

/* Em preview (tela), travamos 1280×720 px para ser WYSIWYG com o canvas 16:9 */
html.is-print .slide {
  display: block !important;
  width: calc(var(--stage-w) * 1px) !important;
  height: calc(var(--stage-h) * 1px) !important;
  min-height: 0 !important; /* overrides inline min-height:100vh */
  margin: 0 auto 24px;
  overflow: hidden;
  page-break-after: always;
  break-after: page;
  /*
   * FIX v2.1: Reduz padding vertical de 60px para 40px
   * Sobrescreve style inline dos slides
   * Ganha 40px de área útil (720 - 80 = 640px vs anterior 600px)
   * Resolve cortes em: S14, S15, S16, S19, S20, S29, S30, S50
   */
  padding: 40px 55px !important;
}


html.is-print .slide:last-child {
  page-break-after: auto;
  break-after: auto;
  margin-bottom: 0;
}

/* Print real */
@media print {
  @page {
    size: 13.333in 7.5in; /* 16:9 */
    margin: 0;
  }

  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: var(--white) !important;
  }

  html.is-print .slide {
    width: 13.333in !important;
    height: 7.5in !important;
    min-height: 0 !important;
    margin: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    page-break-after: always;
    break-after: page;
    /* FIX v2.1: Mantém padding reduzido no print real */
    padding: 40px 55px !important;
  }
}

/* FIX: Ajustes mínimos - apenas reduz padding-bottom extremo */
.slide[style*="padding-bottom: 100px"] {
  padding-bottom: 75px !important;
}